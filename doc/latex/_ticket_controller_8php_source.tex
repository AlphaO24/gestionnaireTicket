\hypertarget{_ticket_controller_8php_source}{}\doxysection{Ticket\+Controller.\+php}
\label{_ticket_controller_8php_source}\index{gestionnaireTickets/src/Controller/TicketController.php@{gestionnaireTickets/src/Controller/TicketController.php}}
\mbox{\hyperlink{_ticket_controller_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00001}00001 <?php}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00002}00002 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_app_1_1_controller}{App\(\backslash\)Controller}};}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00004}00004 use Symfony\(\backslash\)Component\(\backslash\)HttpFoundation\(\backslash\)Response;}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00005}00005 use Symfony\(\backslash\)Component\(\backslash\)Routing\(\backslash\)Annotation\(\backslash\)Route;}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00006}00006 use Symfony\(\backslash\)Bundle\(\backslash\)FrameworkBundle\(\backslash\)Controller\(\backslash\)AbstractController;}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00007}00007 use Symfony\(\backslash\)Component\(\backslash\)HttpFoundation\(\backslash\)RequestStack;}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00008}00008 use Psr\(\backslash\)Log\(\backslash\)LoggerInterface;}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00009}00009 use \mbox{\hyperlink{class_app_1_1_repository_1_1_ticket_repository}{App\(\backslash\)Repository\(\backslash\)TicketRepository}};}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00010}00010 use Doctrine\(\backslash\)Persistence\(\backslash\)ManagerRegistry;}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00011}00011 use \mbox{\hyperlink{class_app_1_1_entity_1_1_ticket}{App\(\backslash\)Entity\(\backslash\)Ticket}};}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00012}00012 use Symfony\(\backslash\)Component\(\backslash\)HttpFoundation\(\backslash\)Request;}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00013}00013 use \mbox{\hyperlink{class_app_1_1_form_1_1_type_1_1_ticket_type}{App\(\backslash\)Form\(\backslash\)Type\(\backslash\)TicketType}};}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00015}\mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller}{00015}} \textcolor{keyword}{class }\mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller}{TicketController}} \textcolor{keyword}{extends} AbstractController}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00016}00016 \{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00020}\mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_ad506fa15f86875e67df6dc8ab7806a3c}{00020}}    \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_ad506fa15f86875e67df6dc8ab7806a3c}{index}}(\mbox{\hyperlink{class_app_1_1_repository_1_1_ticket_repository}{TicketRepository}} \$TicketRepository,ManagerRegistry \$doctrine) :Response}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00021}00021    \{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00022}00022      \$repository = \$doctrine-\/>getRepository(Ticket::class);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00023}00023      \$tickets = \$repository-\/>findAll();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00024}00024      \textcolor{keywordflow}{return} \$this-\/>render(\textcolor{stringliteral}{'ticket/index.html.twig'}, [}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00025}00025          \textcolor{stringliteral}{'tickets'} => \$tickets,}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00026}00026      ]);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00027}00027    \}}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00032}\mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_a7bec23a187e56eba1e074d1cd9a12254}{00032}}    \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_a7bec23a187e56eba1e074d1cd9a12254}{newTicket}}(Request \$request, ManagerRegistry \$doctrine): Response}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00033}00033    \{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00034}00034      \$ticket = \textcolor{keyword}{new} \mbox{\hyperlink{class_app_1_1_entity_1_1_ticket}{Ticket}}();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00036}00036      \$form = \$this-\/>createForm(TicketType::class, \$ticket);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00037}00037      \$form-\/>handleRequest(\$request);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00038}00038      \textcolor{keywordflow}{if} (\$form-\/>isSubmitted() \&\& \$form-\/>isValid())}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00039}00039      \{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00040}00040        \$entityManager = \$doctrine-\/>getManager();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00041}00041        \$ticket= \$form-\/>getData();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00042}00042        \$entityManager-\/>persist(\$ticket);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00043}00043        \$entityManager-\/>flush();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00045}00045        \textcolor{keywordflow}{return} \$this-\/>redirectToRoute(\textcolor{stringliteral}{'index'});}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00046}00046      \}}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00048}00048      \textcolor{keywordflow}{return} \$this-\/>renderForm(\textcolor{stringliteral}{'ticket/new.html.twig'}, [}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00049}00049          \textcolor{stringliteral}{'form'} => \$form,}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00050}00050      ]);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00051}00051    \}}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00056}\mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_a06c8661458f7571421c5f98323bcc69f}{00056}}    \textcolor{keyword}{public} \textcolor{keyword}{function} \textcolor{keyword}{delete}(ManagerRegistry \$doctrine, \textcolor{keywordtype}{int} \$id): Response}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00057}00057    \{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00058}00058      \$entityManager = \$doctrine-\/>getManager();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00059}00059      \$Ticket = \$entityManager-\/>getRepository(Ticket::class)-\/>find(\$id);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00060}00060      \$entityManager-\/>remove(\$Ticket);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00061}00061      \$entityManager-\/>flush();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00062}00062      \textcolor{keywordflow}{return} \$this-\/>redirectToRoute(\textcolor{stringliteral}{'index'});}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00063}00063    \}}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00069}\mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_ab70f84d342b8dd8fa568c2aa4f72f728}{00069}}    \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_ab70f84d342b8dd8fa568c2aa4f72f728}{update}}(Request \$request,ManagerRegistry \$doctrine,\mbox{\hyperlink{class_app_1_1_entity_1_1_ticket}{Ticket}} \$ticket): Response}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00070}00070    \{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00071}00071      \$form = \$this-\/>createForm(TicketType::class,\$ticket);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00072}00072      \$form-\/>handleRequest(\$request);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00073}00073      \textcolor{keywordflow}{if} (\$form-\/>isSubmitted() \&\& \$form-\/>isValid())\{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00074}00074        \$entityManager = \$doctrine-\/>getManager();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00075}00075        \$ticket = \$form-\/>getData();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00076}00076        \$entityManager-\/>persist(\$ticket);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00077}00077        \$entityManager-\/>flush();}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00078}00078        \textcolor{keywordflow}{return} \$this-\/>redirectToRoute(\textcolor{stringliteral}{'index'});}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00079}00079      \}}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00080}00080      \textcolor{keywordflow}{return} \$this-\/>renderForm(\textcolor{stringliteral}{'ticket/new.html.twig'},[}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00081}00081        \textcolor{stringliteral}{'form'} => \$form,}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00082}00082      ]);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00083}00083    \}}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00087}\mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_a21fdf6b3e4629e512f1c96b3381268fa}{00087}}    \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{class_app_1_1_controller_1_1_ticket_controller_a21fdf6b3e4629e512f1c96b3381268fa}{show}}(\mbox{\hyperlink{class_app_1_1_entity_1_1_ticket}{Ticket}} \$ticket) :Response}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00088}00088    \{}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00089}00089       \textcolor{keywordflow}{return} \$this-\/>render(\textcolor{stringliteral}{'ticket/show.html.twig'}, [}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00090}00090          \textcolor{stringliteral}{'ticket'} => \$ticket,}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00091}00091      ]);}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00092}00092    \}}
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00093}00093 }
\DoxyCodeLine{\Hypertarget{_ticket_controller_8php_source_l00094}00094 \}}

\end{DoxyCode}
